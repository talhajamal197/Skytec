CREATE TABLE CUSTOMER
(
    CUSTOMER_ID BIGINT (10) PRIMARY KEY,
    STATUS VARCHAR (50),
    FIRST_NAME VARCHAR (50),
    LAST_NAME VARCHAR (50),
    CNIC BIGINT(14),
    EMAIL VARCHAR(50),
    CUSTOMER_PASSWORD VARCHAR(50) ,
    DATE_OF_BIRTH DATE ,
	ADDRESS VARCHAR (50),
    ContactNumber BIGINT(11),
    COUNTRY VARCHAR(50)
);

CREATE TABLE ADMINLOGIN
(
    USERNAME VARCHAR(50) PRIMARY KEY,
    PASSWORD VARCHAR(50)
);

CREATE TABLE AIRLINE
(
    AIRLINE_ID VARCHAR(50) PRIMARY KEY,
    AIRLINE_NAME VARCHAR(50),
    AIRLINE_PASSWORD VARCHAR(50)
);

CREATE TABLE FLIGHT
(
    FLIGHT_NUMBER VARCHAR(50),
    FLIGHT_SOURCE VARCHAR(50),
    FLIGHT_DESTINATION VARCHAR(50),
    DEPARTURE_TIME DATETIME,
    AIRLINE_ID VARCHAR(50),
    USERNAME VARCHAR(50),
    FLIGHT_STATUS VARCHAR(2),
    PRIMARY KEY(FLIGHT_NUMBER,DEPARTURE_TIME),
    FOREIGN KEY (AIRLINE_ID) REFERENCES AIRLINE(AIRLINE_ID),
    FOREIGN KEY (USERNAME) REFERENCES ADMINLOGIN(USERNAME)
);

CREATE TABLE FLIGHT_CLASS
(
    FLIGHT_NUMBER VARCHAR(50),
    FLIGHT_CLASS VARCHAR(50),
    DEPARTURE_TIME DATETIME,
    NO_OF_SEATS BIGINT(10),
    PRICE BIGINT(15),
    PRIMARY KEY(FLIGHT_NUMBER,DEPARTURE_TIME,FLIGHT_CLASS)
);



CREATE TABLE CREDIT_CARD
(
    CCARD_NUMBER BIGINT(20)PRIMARY KEY,
    BALANCE BIGINT(10),
    STATUS VARCHAR(20),
    CUSTOMER_ID BIGINT (10),
    FOREIGN KEY (CUSTOMER_ID) REFERENCES CUSTOMER(CUSTOMER_ID)
);
CREATE TABLE PAYMENT
(
    PAYMENT_ID VARCHAR(50) PRIMARY KEY,
    AMOUNT BIGINT(10),
    CUSTOMER_ID BIGINT (10),
    CCARD_NUMBER BIGINT(20),
    FOREIGN KEY (CCARD_NUMBER) REFERENCES CREDIT_CARD(CCARD_NUMBER)
 
);


CREATE TABLE PURCHASE_HISTORY
(
    TICKET_STATUS VARCHAR(20),
    AMOUNT INT(10),
    CUSTOMER_ID BIGINT (10),
    FOREIGN KEY (CUSTOMER_ID)REFERENCES CUSTOMER(CUSTOMER_ID)
);

CREATE TABLE TICKET
(  
    TICKET_ID  VARCHAR(50)PRIMARY KEY,
    TICKET_TYPE VARCHAR(50),
    CUSTOMER_ID BIGINT (10),
    FLIGHT_NUMBER VARCHAR(50),
    DEPARTURE_TIME DATETIME,
    PAYMENT_ID VARCHAR(50),
    FOREIGN KEY(FLIGHT_NUMBER,DEPARTURE_TIME) REFERENCES FLIGHT(FLIGHT_NUMBER,DEPARTURE_TIME),
    FOREIGN KEY(CUSTOMER_ID) REFERENCES CUSTOMER(CUSTOMER_ID),
    FOREIGN KEY(PAYMENT_ID) REFERENCES PAYMENT(PAYMENT_ID)
);
CREATE TABLE SOURCE_PLACE
(
    TICKET_ID  VARCHAR(50),
    SOURCE_PLACE VARCHAR(50),
    FOREIGN KEY(TICKET_ID) REFERENCES TICKET(TICKET_ID),
    PRIMARY KEY(TICKET_ID,SOURCE_PLACE)
);
CREATE TABLE DESTINATION
(
    TICKET_ID  VARCHAR(50),
    DESTINATION VARCHAR(50),
    FOREIGN KEY(TICKET_ID) REFERENCES TICKET(TICKET_ID),
    PRIMARY KEY(TICKET_ID,DESTINATION)
);




















